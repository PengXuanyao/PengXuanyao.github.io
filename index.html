<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.9.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="This is my personal blog">
<meta property="og:type" content="website">
<meta property="og:title" content="PengXuanyao">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="PengXuanyao">
<meta property="og:description" content="This is my personal blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="PengXuanyao">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>PengXuanyao</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">PengXuanyao</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">天地交，万物通</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="PengXuanyao"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">PengXuanyao</p>
  <div class="site-description" itemprop="description">This is my personal blog</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">86</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/30/%E3%80%90xup_summer_camp%E3%80%91-05-hls%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/30/%E3%80%90xup_summer_camp%E3%80%91-05-hls%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/" class="post-title-link" itemprop="url">【xup_summer_camp】-05-hls学习（下）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-30 10:05:20" itemprop="dateCreated datePublished" datetime="2022-09-30T10:05:20+08:00">2022-09-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-10-04 11:17:59" itemprop="dateModified" datetime="2022-10-04T11:17:59+08:00">2022-10-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="b站课程学习">B站课程学习</h2>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1bt41187RW?p=24&amp;vd_source=293ffecc5040ce31ebf8b10de8372434">24课：案例分析_哔哩哔哩_bilibili</a></p>
</blockquote>
<p>一共25节课程，比较精简。主要讲HLS基本使用中关于变量类型、数组和函数等基础，同时重点讲了各种Directive的使用（有利于实现不同的设计指标等）。</p>
<p>目前已经看到24课，前面笔记记录在笔记本上，第24课讲了一个具体的HLS工程实例，此次笔记主要记录一下实现过程。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/09/30/%E3%80%90xup_summer_camp%E3%80%91-05-hls%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%8B%EF%BC%89/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/27/%E3%80%90RV-Security%E3%80%91-01-%E7%BB%A7%E7%BB%AD%E8%B0%83%E7%A0%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/27/%E3%80%90RV-Security%E3%80%91-01-%E7%BB%A7%E7%BB%AD%E8%B0%83%E7%A0%94/" class="post-title-link" itemprop="url">【RV_Security】-01-继续调研</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-09-27 16:49:25 / 修改时间：21:14:37" itemprop="dateCreated datePublished" datetime="2022-09-27T16:49:25+08:00">2022-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%B0%83%E7%A0%94/" itemprop="url" rel="index"><span itemprop="name">调研</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/24/%E3%80%90RV_Security%E3%80%91-00-%E8%B0%83%E7%A0%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/24/%E3%80%90RV_Security%E3%80%91-00-%E8%B0%83%E7%A0%94/" class="post-title-link" itemprop="url">【RV_Security】-00-调研</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-24 13:55:02" itemprop="dateCreated datePublished" datetime="2022-09-24T13:55:02+08:00">2022-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-27 16:50:52" itemprop="dateModified" datetime="2022-09-27T16:50:52+08:00">2022-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%B0%83%E7%A0%94/" itemprop="url" rel="index"><span itemprop="name">调研</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="opentitan">OpenTitan</h2>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/opentitan/84f8e3b59f949ba611049450075bb14e3cea941f/doc/opentitan-logo.png"
alt="OpenTitan" />
<figcaption aria-hidden="true">OpenTitan</figcaption>
</figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://opentitan.org/">Open source silicon root of trust
(RoT) | OpenTitan</a></p>
</blockquote>
<h3 id="features">Features</h3>
<ol type="1">
<li>Independently managed OpenTitan is stewarded by <a
target="_blank" rel="noopener" href="https://www.lowrisc.org/">lowRISC</a>, a not-for-profit company
that uses collaborative engineering to develop and maintain open source
silicon designs and tools for the long term.</li>
<li>Open source OpenTitan is an open source project with leading
not-for-profit, academic, and commercial organizations committed to its
development and expansion.</li>
<li>Security through transparency As an open source project, OpenTitan
enables the larger community to proactively audit, evaluate, and improve
the security properties of the design.</li>
<li>High-quality IP OpenTitan is developed by engineers and researchers
from ETH Zürich, G+D Mobile Security, Google, lowRISC, Nuvoton
Technology, and Western Digital. Our community brings ideas and
expertise from a variety of perspectives.</li>
<li>Modern architecture OpenTitan is designed to serve as the system
root of trust by actively mediating access to the first-stage boot
firmware. It is built upon the quality constructs and security
principles used to create Google's <a
target="_blank" rel="noopener" href="https://security.googleblog.com/2019/11/opentitan-open-sourcing-transparent.html">Titan
chips</a>.</li>
<li>Vendor- and platform-agnostic Because it is not proprietary to a
specific vendor or platform, OpenTitan can be integrated with data
center servers, peripherals, storage devices, and other hardware,
helping you reduce costs and reach more customers.</li>
</ol>
<h3 id="opentitans-blog">OpenTitan's Blog</h3>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://security.googleblog.com/2019/11/opentitan-open-sourcing-transparent.html">Google
Online Security Blog: OpenTitan - open sourcing transparent,
trustworthy, and secure silicon</a></p>
</blockquote>
<p>We are transparently building the logical design of a silicon RoT,
including an open source microprocessor (the <a
target="_blank" rel="noopener" href="https://github.com/lowRISC/ibex/">lowRISC Ibex</a>, a RISC-V-based
design), cryptographic coprocessors, a hardware random number generator,
a sophisticated key hierarchy, memory hierarchies for volatile and
non-volatile storage, defensive mechanisms, IO peripherals, secure boot,
and more.</p>
<h3 id="opentitans-github">OpenTitan's Github</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/lowRISC/opentitan">lowRISC/opentitan:
OpenTitan: Open source silicon root of trust</a></p>
</blockquote>
<h4 id="get-started">Get Started</h4>
<ol type="1">
<li>系统配置要求是18.04，本系统为22.04，可能会有一些问题。 &gt; Our
continuous integration setup runs on Ubuntu 18.04 LTS, which gives us
the most confidence that this distribution works out of the box. We do
our best to support other distributions, but cannot guarantee they can
be used "out of the box" and might require updates of packages. Please
file a GitHub issue if you need help or would like to propose a change
to increase compatibility with other distributions.</li>
<li>检查gcc版本为11，大于要求的9 &gt; <a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/55250294">Ubuntu PPA 使用指南 -
知乎</a></li>
<li>安装python环境
<ul>
<li>新建conda环境 open-titan</li>
<li>安装：<code>pip3 install --user -r python-requirements.txt</code>(<a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/94744929">Anaconda-用conda创建python虚拟环境
- 知乎</a>)
<ul>
<li>过程中<code>git clone --filter=blob:none --quiet https://github.com/lowRISC/fusesoc.git /tmp/pip-req-build-jj_92m33</code>、<code>Running command git checkout -q cf222fa5c9351d09cec13cdaea4602905fa696d0</code>缓慢</li>
<li>出现报错 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: RPC failed; curl 16 Error <span class="keyword">in</span> the HTTP2 framing layer</span><br><span class="line">fatal: error reading section header <span class="string">&#x27;shallow-info&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>再次安装，出现不同报错</li>
<li>出现报错<code>fatal: unable to access 'https://github.com/lowRISC/fusesoc.git/': GnuTLS recv error (-110): The TLS connection was non-properly terminated.</code></li>
<li>尝试解决方案：<a
target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41744950/article/details/124062974">fatal:
无法访问 ‘‘github.com/“:GnuTLS recv error (-110): The TLS connection was
non-properly terminated._ZywOo777的博客-CSDN博客</a></li>
<li>未能解决问题</li>
<li>使用<code>pip</code>安装尝试解决</li>
<li>还是出现同样的症状</li>
<li>待续，怀疑是pip版本问题</li>
</ul></li>
</ul></li>
<li></li>
</ol>
<h2 id="ssith">SSITH</h2>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.darpa.mil/">Defense Advanced Research Projects
Agency</a></p>
</blockquote>
<h3 id="darpa">DARPA</h3>
<h2 id="a-survey-on-risc-v-security-hardware-and-architecture">A Survey
on RISC-V Security: Hardware and Architecture</h2>
<h3 id="笔记梳理">笔记梳理</h3>
<p>目前看完Intro、Overview和Architecture Security部分</p>
<h4 id="overview">Overview</h4>
<ol type="1">
<li>面临挑战：实现简洁和低功耗的硬件安全机制、RV的开放性是双刃剑</li>
<li>本文结构：讨论安全需求--&gt;安全机制</li>
<li>边云之间的大数据交互造成风险，RoT和HSM是实现ESCDA和SHA的实现载体</li>
<li>体系结构安全问题：
<ul>
<li>优先级管理
<ul>
<li>尤其是其中的内存管理有困难</li>
<li>引出TEE</li>
</ul></li>
</ul></li>
<li>RoT和HSM
<ul>
<li>RoT保管秘钥，可以通过硬件方式(设计状态机)实现RoT，加以可定制电路实现更复杂功能</li>
<li>RoT保持独立性，避免收到攻击，同时提升CPU性能</li>
<li>RoT包含HSM(HSM时硬件不可被外部访问)</li>
<li>HSM构成：
<ul>
<li>OTP器件</li>
<li>Secure Memory</li>
</ul></li>
</ul></li>
</ol>
<blockquote>
<p>搭建Linux环境： 1.
配置Picgo过程中，发现上传出现问题，出现404报错，原因是仓库地址写错了，要写成这种格式：
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220926102900.png"
alt="format" /> 2. 截一下壁纸： <img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220926101749.png"
alt="jelleyfish" /></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/20/%E3%80%90Verilog%E5%AD%A6%E4%B9%A0%E3%80%91-13-%E5%9B%9B%E4%B8%AA%E5%BA%94%E7%94%A8%E5%A4%A7%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/20/%E3%80%90Verilog%E5%AD%A6%E4%B9%A0%E3%80%91-13-%E5%9B%9B%E4%B8%AA%E5%BA%94%E7%94%A8%E5%A4%A7%E9%A2%98/" class="post-title-link" itemprop="url">【Verilog学习】-13-四个应用大题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-09-20 18:06:48 / 修改时间：18:11:20" itemprop="dateCreated datePublished" datetime="2022-09-20T18:06:48+08:00">2022-09-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="搞了下午博客环境">搞了下午博客环境</h2>
<p>我也是醉了</p>
<h2 id="section"></h2>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/09/04/%E3%80%90HLK-W801%E3%80%91-01-OLED%E6%98%BE%E7%A4%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/04/%E3%80%90HLK-W801%E3%80%91-01-OLED%E6%98%BE%E7%A4%BA/" class="post-title-link" itemprop="url">【HLK-W801】-01-OLED显示</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-04 09:26:03" itemprop="dateCreated datePublished" datetime="2022-09-04T09:26:03+08:00">2022-09-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 11:05:18" itemprop="dateModified" datetime="2022-09-17T11:05:18+08:00">2022-09-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="实现思路">实现思路</h2>
<p>将官方给的例程移值到这个小开发板上即可。</p>
<p>使用SPI通信协议（使用GPIO模拟SPI），注意移植的时候看一下源代码，需要注意改一下底层的IO操作代码即可。</p>
<h2 id="实现过程">实现过程</h2>
<h3 id="复习一下spi通信协议">复习一下SPI通信协议</h3>
<p>SPI工作有四种模式，这里以最常见的CPOL（时钟极性） = 0，CPHA
（时钟相位）= 0，进行讨论。</p>
<p><a
target="_blank" rel="noopener" href="https://www.nxp.com/files-static/microcontrollers/doc/ref_manual/S12SPIV4.pdf">SPI
Block Guide V4 (nxp.com)</a></p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220904100713.png"
alt="spi" />
<figcaption aria-hidden="true">spi</figcaption>
</figure>
<p>注意看红色框出的地方，是我们考虑的情况：当出现上升沿的时候进行采样。因此，传输的方式应该是，先改变数据，再出现时钟上升沿。然后，延时再改变时钟为下降沿，进入限一个周期。同时注意，<strong>片选信号要保持为低电平</strong>。</p>
<h3 id="看源代码">看源代码</h3>
<p>原代码就是用的模拟SPI（软件实现的）。</p>
<p>再源代码基础上改变了IO操作的宏定义，暂时没有移植成功。</p>
<p>已经尝试过排查的问题： 1.
IO软件功能正常，通过软件改写IO，并读取IO值，比对成功。没有万用表，引脚电平可能存在问题。
2.
SPI频率排查，在上升沿后加入过1us延迟，初始化过程明显变慢，但是依旧没有反应。</p>
<p>可能有问题的地方： 1.
估计代码没有问题，出现问题大概率在模块上面，供电还未检查。也可能是模块自身的问题
2. SPI频率没有彻查，可能频率会超过要求值。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/30/%E3%80%90%E6%9C%AD%E8%AE%B0%E3%80%91HowToLive/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/30/%E3%80%90%E6%9C%AD%E8%AE%B0%E3%80%91HowToLive/" class="post-title-link" itemprop="url">【札记】HowToLive</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-30 16:00:54" itemprop="dateCreated datePublished" datetime="2022-08-30T16:00:54+08:00">2022-08-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 11:05:18" itemprop="dateModified" datetime="2022-09-17T11:05:18+08:00">2022-09-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">生活</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>如何去生活？我一直在寻找这个问题的答案，现在又一次迷失了方向。我总是在问别人这个问题，总是想通过别人的生活来找到这个问题的答案。</p>
<p>学习出现了困难，就去找别人的学习方法；健身遇到了瓶颈，就去模仿别人的训练计划。</p>
<p>刚开始，这样做是没有问题的，毕竟innovation都是在imitation的基础上的，但是问题就是在于已经完成了immitation之后。没有再去innovation和rethink这些，继而遇到问题之后，继续immitation。但是问题的关键已经不再是有没有，而是好不好、适合不适合。此后，更多的immiation只会带来更多的困惑而不再是breakthrough。</p>
<p>我想，在生活这个大问题上，继续向外寻找答案，可能已经不再适用了。我应该静下心来，问问自己。</p>
<h2 id="我现在处于哪一个人生阶段">我现在处于哪一个人生阶段</h2>
<p>经过了大二、大三这两年，我已经基本上完成了所谓一心专研书本知识、打下坚实基础的本科阶段了。这两年确实是基本上都沉浸在了专业课和自己今后想要从事的方向的学习上了，总的来说，埋头拉车大于抬头看路。期间经历了一些精神压力和迷茫的人生状态，但是，我还是推着自己毫不停息的继续向前，我总是瞄着这个时间点（也就是现在，争取到保研名额）去做事情。但是，其实我感觉这两年大多数时间过得并不是很快乐，可能和没有养成正确的社交习惯也有关，即使现在已经基本达到了自己的目标，我想，这样的方法也是有一定问题的，尤其是没有关注好自己的身体，经常打乱作息（主要原因还是没有控制好手机，手机基本没有影响到学习的时间，而是打乱了我的作息，关于这一点需要做更加深刻的反思和想出更加强有力的应对措施）。</p>
<p>中途参与的社会活动和应承担的社会责任都没有完全尽到，没有做到应当做的事情，有些草草了事、更有些不了了之。责任心曾是我找到归属感的本源，现在好像有一些离我远去。</p>
<h2 id="接下来我该如何做">接下来我该如何做</h2>
<p>接下来，我将进入下一个人生阶段了。如果说大一到大三是乳臭未干的进入社会，那么从大四开始我就将绝不拖泥带水的完成独立。当时，在高三写下的人生规划中，我也想到在大四实现经济独立，现在来看是有可行性的。大四上的奖助学金和大四下的计算所实习，我想应该能够大致完成这个目标了。</p>
<p>曾经我想的是我是一个没有自控力的人，一件事情总是会做过，那么既然这样何不如就直接一心扎入学习呢。但是，从这学期的效果来看，中午经常不按时吃饭，下午也没有及时锻炼，效果其实也并不好，劳逸结合才是持久之道。不能够长时间的做一件事情，把控好时间和火候才能做出好的作品，就像一道好菜一样。</p>
<p>那么这个火候怎么把握呢，接下来我们又回到那些个老生常谈的问题了，又来梳理一下解决的思路。</p>
<p>拖延和执行力的问题：</p>
<ul>
<li>关于小事情：如果一件事情是5分钟以内能搞定的，就不要拖（比如和某人发消息、买东西（不要逛淘宝）），这样就可以节约出很多时间。</li>
<li>关于大事情：大事情一般需要把他划分成若干的可以接受的中等强度的事情，然后，直接开始做就好了，先做十分钟，慢慢的就可以适应这样的强度做下去了，不会太难。</li>
</ul>
<p>关于生活和学习相平衡的问题：</p>
<ul>
<li>在响应的地方做相应的事情：要看书、写作业就到图书馆；要锻炼、放松就到运动场、篮球场、健身房；要写些什么私人的东西（比如札记和计划这种，不好意思当着别人的面写的）就到宿舍这种私人的地方（以前觉得宿舍除了睡觉好像就干不了什么正经事了，现在又多发现了一样）。</li>
<li>在相应的时间做相应的事情：这件事是我认为最难的一件事情，每每做事情到一定程度，我就会容易上头。这是一个优势也是一个劣势。从短期来看，这样确实效率很高，但是从长期来看，这样的收益并不会很高。这件事情的最有效的解决办法是找一个伙伴一起做事情，到点了就知道拉上一起走了。但是，总不可能每个人都这样同步做事情。自己给自己的时钟同步一下是非常重要的，具体怎么做暂时也想不出特别好的办法，只能说就是先刻意训练吧，看看能不能慢慢变成一种习惯（尽管以前并没有），还有就是缓冲区。</li>
<li>还是再理清楚一次我自己生活中的事情的轻重急缓吧，健康（生理和心理，包括作息和锻炼）&gt;
生活 &gt; 学习 &gt;
工作。生活包括睡前的读书、每个月做一件有趣的事情，其实花费的时间不多，但是是添加生活情趣、追寻生命意义必不可少的，前两年的大多数时候没有注意这个，即使我把他排在第二位，实际上我并没有这样做了。关于学习方面，主要是囊括专业学习以及目前阶段的科研工作，工作就是目前主要指的是学生工作。</li>
<li>从我不要的思维，到我要的思维。将我不要玩手机的想法，变成我要做什么（我现在最想要做的三件事，变健康（去锻炼），变成极客（上相关的网络课程、读技术书籍、写博客和做极客项目）和找dx）的想法。如果没什么事情做了，或许这三件事值得再考虑一下。当然，我的想法是直接安排合适，不会找不到事情做，该干嘛干嘛，无论是规划的时间去娱乐还是学习。</li>
</ul>
<p>方向的问题：</p>
<ul>
<li>理想
<ul>
<li>要有远大理想不是一句空话。一直向往着那个远大的理想，才不会丧失动力。一旦设定的理想太过于肤浅和容易达到，就容易心浮气躁和患得患失，有时候我深受其害。一直铭记着那一个远大的理想信念，才能一直保持着身体向前的姿态。作为党员，应当将共产主义作为自己的理想；作为科技工作者，应该将实现社会主义现代化作为自己的理想，让中国的科技水平跻身世界前列作为自己的目标，让人类的科技水平进一步向前发展，贡献自己的智慧；作为中国人，应该将实现中华民族伟大复兴作为理想信念。</li>
</ul></li>
<li>目标
<ul>
<li>有了理想只是第一步，将其化为切实可行的步骤、里程碑，才会使我们在向前看去路时候不会看走眼，向回看来路不会看不见。人生的目标和时代的发展应当相契合，中国智造2025（24岁），基本实现现代化的第一步（34岁），全面实现现代化的第二步（49岁）。除了大的目标要向国家的重点战略看齐，小的目标更应该高标准、严要求地落在实处。</li>
</ul></li>
<li>计划
<ul>
<li>长期的目标，短期的计划。长期的计划往往赶不上变化，并且往往不切实际。合理的短期计划是有必要并且可以实现的，做计划非常简单，把想要做的事情列一下，分配好时间即可，当没有事干的时候就想想自己想要做什么。</li>
</ul></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/29/%E3%80%90HLK-W801%E3%80%91-00-%E8%B7%91%E9%A9%AC%E7%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/29/%E3%80%90HLK-W801%E3%80%91-00-%E8%B7%91%E9%A9%AC%E7%81%AF/" class="post-title-link" itemprop="url">【HLK-W801】-00-跑马灯</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-29 11:16:05" itemprop="dateCreated datePublished" datetime="2022-08-29T11:16:05+08:00">2022-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 11:05:18" itemprop="dateModified" datetime="2022-09-17T11:05:18+08:00">2022-09-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>搞到一块W801小开发板来耍耍（基于平头哥的内核，用的是自研指令集C-SKY）。资料有点少，今天先看看官方的sdk里面有什么东西可以用。</p>
<p>通过官方给的demo包，改了一下GPIO的demo就可以用了。<a
target="_blank" rel="noopener" href="https://gitee.com/iosetting/wm-sdk-w80x">wm-sdk-w80x: Original
Winner Micro SDK for W801 (gitee.com)</a></p>
<h2 id="参考资料">参考资料</h2>
<ol type="1">
<li><a
target="_blank" rel="noopener" href="https://blog.csdn.net/baidu_19348579/article/details/122036457">单片机---HLK-W801开发环境搭建_胖哥王老师的博客-CSDN博客</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/28/%E3%80%90Verilog%E5%AD%A6%E4%B9%A0%E3%80%91-12-verification/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/28/%E3%80%90Verilog%E5%AD%A6%E4%B9%A0%E3%80%91-12-verification/" class="post-title-link" itemprop="url">【Verilog学习】-12-verification</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-28 11:43:00" itemprop="dateCreated datePublished" datetime="2022-08-28T11:43:00+08:00">2022-08-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 11:05:18" itemprop="dateModified" datetime="2022-09-17T11:05:18+08:00">2022-09-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="bugs-mux2">Bugs mux2</h2>
<h3 id="question">Question</h3>
<p>This 8-bit wide 2-to-1 multiplexer doesn't work. Fix the bug(s).</p>
<h3 id="module-declaration">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> sel,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] out  );</span><br></pre></td></tr></table></figure>
<h3 id="solution">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">module top_module (</span></span><br><span class="line"><span class="comment">    input sel,</span></span><br><span class="line"><span class="comment">    input [7:0] a,</span></span><br><span class="line"><span class="comment">    input [7:0] b,</span></span><br><span class="line"><span class="comment">    output out  );</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    assign out = (~sel &amp; a) | (sel &amp; b);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> sel,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] out  );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> out = sel ? a : b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h3 id="referrence">Referrence</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">	<span class="keyword">input</span> sel,</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">	<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] out</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1. A mux coded as (~sel &amp; a) | (sel &amp; b) does not work for vectors.</span></span><br><span class="line">	<span class="comment">// This is because these are bitwise operators, and sel is only a 1 bit wide quantity,</span></span><br><span class="line">	<span class="comment">// which leaves the upper bits of a and b zeroed. It is possible to code it using</span></span><br><span class="line">	<span class="comment">// the replication operator, but this is somewhat difficult to read:</span></span><br><span class="line">	<span class="comment">//   ( &#123;8&#123;~sel&#125;&#125; &amp; a ) | ( &#123;8&#123;sel&#125;&#125; &amp; b )</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 2. The simulation waveform shows that when sel = 1, a should be selected. This</span></span><br><span class="line">	<span class="comment">// is flipped in the suggested code.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> out = sel ? a : b;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="bugs-nand3">Bugs nand3</h2>
<h3 id="question-1">Question</h3>
<p>This three-input NAND gate doesn't work. Fix the bug(s).</p>
<p>You must use the provided 5-input AND gate:</p>
<pre><code>module andgate ( output out, input a, input b, input c, input d, input e );</code></pre>
<h3 id="module-declaration-1">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (<span class="keyword">input</span> a, <span class="keyword">input</span> b, <span class="keyword">input</span> c, <span class="keyword">output</span> out);</span><br></pre></td></tr></table></figure>
<h3 id="solution-1">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">module top_module (input a, input b, input c, output out);//</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    andgate inst1 ( a, b, c, out );</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** bug exists</span></span><br><span class="line"><span class="comment">module top_module (input a, input b, input c, output out);//</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    andgate inst1 ( .a(a), .b(b), .c(c), .out(out) );</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> top_module (<span class="keyword">input</span> a, <span class="keyword">input</span> b, <span class="keyword">input</span> c, <span class="keyword">output</span> out);<span class="comment">//</span></span><br><span class="line">    <span class="keyword">wire</span> out_n;</span><br><span class="line">    andgate inst1 ( <span class="variable">.a</span>(a), <span class="variable">.b</span>(b), <span class="variable">.c</span>(c), <span class="variable">.d</span>(<span class="number">1&#x27;b1</span>), <span class="variable">.e</span>(<span class="number">1&#x27;b1</span>), <span class="variable">.out</span>(out_n) );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">assign</span> out = ~out_n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="bugs-mux4">Bugs mux4</h2>
<p>This 4-to-1 multiplexer doesn't work. Fix the bug(s).</p>
<p>You are provided with a bug-free 2-to-1 multiplexer:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">module</span> mux2 (</span><br><span class="line">        <span class="keyword">input</span> sel,</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">        <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] out</span><br><span class="line">    );</span><br><span class="line"><span class="meta">```    </span></span><br><span class="line">### Module Declaration</span><br><span class="line"></span><br><span class="line"><span class="meta">```verilog</span></span><br><span class="line">    <span class="keyword">module</span> top_module (</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>] sel,</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] c,</span><br><span class="line">        <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] d,</span><br><span class="line">        <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] out  );</span><br></pre></td></tr></table></figure>
<h3 id="solution-2">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">module top_module (</span></span><br><span class="line"><span class="comment">    input [1:0] sel,</span></span><br><span class="line"><span class="comment">    input [7:0] a,</span></span><br><span class="line"><span class="comment">    input [7:0] b,</span></span><br><span class="line"><span class="comment">    input [7:0] c,</span></span><br><span class="line"><span class="comment">    input [7:0] d,</span></span><br><span class="line"><span class="comment">    output [7:0] out  ); //</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    wire mux0, mux1;</span></span><br><span class="line"><span class="comment">    mux2 mux0 ( sel[0],    a,    b, mux0 );</span></span><br><span class="line"><span class="comment">    mux2 mux1 ( sel[1],    c,    d, mux1 );</span></span><br><span class="line"><span class="comment">    mux2 mux2 ( sel[1], mux0, mux1,  out );</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] c,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] d,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] out  ); <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>] mux_0, mux_1;</span><br><span class="line">    mux2 mux0 ( sel[<span class="number">0</span>],    a,    b, mux_0 );</span><br><span class="line">    mux2 mux1 ( sel[<span class="number">0</span>],    c,    d, mux_1 );</span><br><span class="line">    mux2 mux2 ( sel[<span class="number">1</span>], mux_0, mux_1,  out );</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="bugs-addsubz">Bugs addsubz</h2>
<h3 id="question-2">Question</h3>
<p>The following adder-subtractor with zero flag doesn't work. Fix the
bug(s).</p>
<h3 id="module-declaration-2">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// synthesis verilog_input_version verilog_2001</span></span><br><span class="line"><span class="keyword">module</span> top_module ( </span><br><span class="line">    <span class="keyword">input</span> do_sub,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] out,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> result_is_zero</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="solution-3">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">// synthesis verilog_input_version verilog_2001</span></span><br><span class="line"><span class="comment">module top_module ( </span></span><br><span class="line"><span class="comment">    input do_sub,</span></span><br><span class="line"><span class="comment">    input [7:0] a,</span></span><br><span class="line"><span class="comment">    input [7:0] b,</span></span><br><span class="line"><span class="comment">    output reg [7:0] out,</span></span><br><span class="line"><span class="comment">    output reg result_is_zero</span></span><br><span class="line"><span class="comment">);//</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    always @(*) begin</span></span><br><span class="line"><span class="comment">        case (do_sub)</span></span><br><span class="line"><span class="comment">          0: out = a+b;</span></span><br><span class="line"><span class="comment">          1: out = a-b;</span></span><br><span class="line"><span class="comment">        endcase</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        if (~out)</span></span><br><span class="line"><span class="comment">            result_is_zero = 1;</span></span><br><span class="line"><span class="comment">    end</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// synthesis verilog_input_version verilog_2001</span></span><br><span class="line"><span class="comment">// synthesis verilog_input_version verilog_2001</span></span><br><span class="line"><span class="keyword">module</span> top_module ( </span><br><span class="line">    <span class="keyword">input</span> do_sub,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] out,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> result_is_zero</span><br><span class="line">);<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">case</span> (do_sub)</span><br><span class="line">          <span class="number">0</span>: out = a+b;</span><br><span class="line">          <span class="number">1</span>: out = a-b;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!out)</span><br><span class="line">            result_is_zero = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result_is_zero = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="bugs-case">Bugs case</h2>
<h3 id="question-3">Question</h3>
<p>This combinational circuit is supposed to recognize 8-bit keyboard
scancodes for keys 0 through 9. It should indicate whether one of the 10
cases were recognized (valid), and if so, which key was detected. Fix
the bug(s).</p>
<h3 id="module-declaration-3">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] code,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] out,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> valid=<span class="number">1</span> );</span><br></pre></td></tr></table></figure>
<h3 id="solution-4">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] code,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] out,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> valid=<span class="number">1</span> );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">always</span> @(*)</span><br><span class="line">        <span class="keyword">case</span> (code)</span><br><span class="line">            <span class="number">8&#x27;h45</span>: out = <span class="number">0</span>;</span><br><span class="line">            <span class="number">8&#x27;h16</span>: out = <span class="number">1</span>;</span><br><span class="line">            <span class="number">8&#x27;h1e</span>: out = <span class="number">2</span>;</span><br><span class="line">            <span class="number">8&#x27;d26</span>: out = <span class="number">3</span>;</span><br><span class="line">            <span class="number">8&#x27;h25</span>: out = <span class="number">4</span>;</span><br><span class="line">            <span class="number">8&#x27;h2e</span>: out = <span class="number">5</span>;</span><br><span class="line">            <span class="number">8&#x27;h36</span>: out = <span class="number">6</span>;</span><br><span class="line">            <span class="number">8&#x27;h3d</span>: out = <span class="number">7</span>;</span><br><span class="line">            <span class="number">8&#x27;h3e</span>: out = <span class="number">8</span>;</span><br><span class="line">            <span class="number">6&#x27;h46</span>: out = <span class="number">9</span>;</span><br><span class="line">            <span class="keyword">default</span>: valid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="bugs-case-1">Bugs case</h2>
<h3 id="quesiton">Quesiton</h3>
<p>This combinational circuit is supposed to recognize 8-bit keyboard
scancodes for keys 0 through 9. It should indicate whether one of the 10
cases were recognized (valid), and if so, which key was detected. Fix
the bug(s).</p>
<h3 id="module-declaration-4">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] code,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] out,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> valid=<span class="number">1</span> );</span><br></pre></td></tr></table></figure>
<h3 id="solution-5">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] code,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] out,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> valid=<span class="number">1</span> );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">case</span> (code)</span><br><span class="line">            <span class="number">8&#x27;h45</span>: out = <span class="number">0</span>;</span><br><span class="line">            <span class="number">8&#x27;h16</span>: out = <span class="number">1</span>;</span><br><span class="line">            <span class="number">8&#x27;h1e</span>: out = <span class="number">2</span>;</span><br><span class="line">            <span class="number">8&#x27;h26</span>: out = <span class="number">3</span>;</span><br><span class="line">            <span class="number">8&#x27;h25</span>: out = <span class="number">4</span>;</span><br><span class="line">            <span class="number">8&#x27;h2e</span>: out = <span class="number">5</span>;</span><br><span class="line">            <span class="number">8&#x27;h36</span>: out = <span class="number">6</span>;</span><br><span class="line">            <span class="number">8&#x27;h3d</span>: out = <span class="number">7</span>;</span><br><span class="line">            <span class="number">8&#x27;h3e</span>: out = <span class="number">8</span>;</span><br><span class="line">            <span class="number">8&#x27;h46</span>: out = <span class="number">9</span>;</span><br><span class="line">            <span class="keyword">default</span>: out = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    	</span><br><span class="line">        <span class="keyword">case</span> (code)</span><br><span class="line">			<span class="number">8&#x27;h45</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h16</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h1e</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h26</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h25</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h2e</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h36</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h3d</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h3e</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="number">8&#x27;h46</span>: valid = <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="keyword">default</span>: valid = <span class="number">1&#x27;b0</span>;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h3 id="referrence-1">Referrence</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] code,</span><br><span class="line">	<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] out,</span><br><span class="line">	<span class="keyword">output</span> <span class="keyword">reg</span> valid</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// A combinational always block.</span></span><br><span class="line">	<span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">		out = <span class="number">0</span>;		<span class="comment">// To avoid latches, give the outputs a default assignment</span></span><br><span class="line">		valid = <span class="number">1</span>;		<span class="comment">//   then override them in the case statement. This is less</span></span><br><span class="line">						<span class="comment">//   code than assigning a value to every variable for every case.</span></span><br><span class="line">		<span class="keyword">case</span> (code)</span><br><span class="line">			<span class="number">8&#x27;h45</span>: out = <span class="number">0</span>;</span><br><span class="line">			<span class="number">8&#x27;h16</span>: out = <span class="number">1</span>;</span><br><span class="line">			<span class="number">8&#x27;h1e</span>: out = <span class="number">2</span>;</span><br><span class="line">			<span class="number">8&#x27;h26</span>: out = <span class="number">3</span>;		<span class="comment">// 8&#x27;d26 is 8&#x27;h1a</span></span><br><span class="line">			<span class="number">8&#x27;h25</span>: out = <span class="number">4</span>;</span><br><span class="line">			<span class="number">8&#x27;h2e</span>: out = <span class="number">5</span>;</span><br><span class="line">			<span class="number">8&#x27;h36</span>: out = <span class="number">6</span>;</span><br><span class="line">			<span class="number">8&#x27;h3d</span>: out = <span class="number">7</span>;</span><br><span class="line">			<span class="number">8&#x27;h3e</span>: out = <span class="number">8</span>;</span><br><span class="line">			<span class="number">8&#x27;h46</span>: out = <span class="number">9</span>;</span><br><span class="line">			<span class="keyword">default</span>: valid = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">endcase</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="solution-6">Solution</h3>
<p>这里参考答案里面描述的更加简洁，阻塞赋值在逻辑上相当于是按顺序依次往下赋值。因此，首先是相当于给out和valid了一个默认值，然后再在case模块中进行了分别的赋值。</p>
<h2 id="simcircuit1">Sim/circuit1</h2>
<h3 id="question-4">Question</h3>
<p>This is a combinational circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829100802.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-5">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-7">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">module top_module (</span></span><br><span class="line"><span class="comment">    input a,</span></span><br><span class="line"><span class="comment">    input b,</span></span><br><span class="line"><span class="comment">    output q );//</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    assign q = 0; // Fix me</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">output</span> q );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> q = a &amp; b; <span class="comment">// Fix me</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit2">Sim/circuit2</h2>
<h3 id="question-5">Question</h3>
<p>This is a combinational circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829101130.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-6">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-8">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">module top_module (</span></span><br><span class="line"><span class="comment">    input a,</span></span><br><span class="line"><span class="comment">    input b,</span></span><br><span class="line"><span class="comment">    input c,</span></span><br><span class="line"><span class="comment">    input d,</span></span><br><span class="line"><span class="comment">    output q );//</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    assign q = 0; // Fix me</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> q = ~ (a ^ b ^ c ^ d); <span class="comment">// Fix me</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit3">Sim/circuit3</h2>
<h3 id="question-6">Question</h3>
<p>This is a combinational circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829101424.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-7">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-9">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">module top_module (</span></span><br><span class="line"><span class="comment">    input a,</span></span><br><span class="line"><span class="comment">    input b,</span></span><br><span class="line"><span class="comment">    input c,</span></span><br><span class="line"><span class="comment">    input d,</span></span><br><span class="line"><span class="comment">    output q );//</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    assign q = 0; // Fix me</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">endmodule </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> q = (a | b) &amp; (c | d); <span class="comment">// Fix me, 画卡诺图得到</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit4">Sim/circuit4</h2>
<h3 id="question-7">Question</h3>
<p>This is a combinational circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829102619.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-8">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-10">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> q = b | c; <span class="comment">// Fix me, 画卡诺图得到</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit5">Sim/circuit5</h2>
<h3 id="question-8">Question</h3>
<p>This is a combinational circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<h4 id="simulation-1">Simulation 1</h4>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829103328.png"
alt="wf1" />
<figcaption aria-hidden="true">wf1</figcaption>
</figure>
<h4 id="simulation-2">Simulation 2</h4>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829103352.png"
alt="wf2" />
<figcaption aria-hidden="true">wf2</figcaption>
</figure>
<h3 id="module-declaration-9">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] c,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] d,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] e,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-11">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] c,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] d,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] e,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] q );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">        q = <span class="number">4&#x27;hf</span>;</span><br><span class="line">        <span class="keyword">case</span> (c) </span><br><span class="line">            <span class="number">4&#x27;d0</span>: q = b;</span><br><span class="line">            <span class="number">4&#x27;d1</span>: q = e;</span><br><span class="line">            <span class="number">4&#x27;d2</span>: q = a;</span><br><span class="line">            <span class="number">4&#x27;d3</span>: q = d;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit6">Sim/circuit6</h2>
<h3 id="solution-12">Solution</h3>
<p>This is a combinational circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829103804.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-10">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">2</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">15</span>:<span class="number">0</span>] q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-13">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">2</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">15</span>:<span class="number">0</span>] q ); </span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">case</span> (a)</span><br><span class="line">            <span class="number">3&#x27;d0</span>: q = <span class="number">16&#x27;h1232</span>;</span><br><span class="line">            <span class="number">3&#x27;d1</span>: q = <span class="number">16&#x27;haee0</span>;</span><br><span class="line">            <span class="number">3&#x27;d2</span>: q = <span class="number">16&#x27;h27d4</span>;</span><br><span class="line">            <span class="number">3&#x27;d3</span>: q = <span class="number">16&#x27;h5a0e</span>;</span><br><span class="line">            <span class="number">3&#x27;d4</span>: q = <span class="number">16&#x27;h2066</span>;</span><br><span class="line">            <span class="number">3&#x27;d5</span>: q = <span class="number">16&#x27;h64ce</span>;</span><br><span class="line">            <span class="number">3&#x27;d6</span>: q = <span class="number">16&#x27;hc526</span>;</span><br><span class="line">            <span class="number">3&#x27;d7</span>: q = <span class="number">16&#x27;h2f19</span>;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit7">Sim/circuit7</h2>
<h3 id="question-9">Question</h3>
<p>This is a sequential circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829104236.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-11">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-14">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        q &lt;= ~a;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit8">Sim/circuit8</h2>
<h3 id="question-10">Question</h3>
<p>This is a sequential circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829104511.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-12">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clock,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">output</span> p,</span><br><span class="line">    <span class="keyword">output</span> q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-15">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clock,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">output</span> p,</span><br><span class="line">    <span class="keyword">output</span> q);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span> (clock)</span><br><span class="line">            p = a;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p = p;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">negedge</span> clock) <span class="keyword">begin</span></span><br><span class="line">        q &lt;= a;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit9">Sim/circuit9</h2>
<h3 id="question-11">Question</h3>
<p>This is a sequential circuit. Read the simulation waveforms to
determine what the circuit does, then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829105631.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-13">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] q );</span><br></pre></td></tr></table></figure>
<h3 id="solution-16">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] q );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span> (a) </span><br><span class="line">            q &lt;= <span class="number">4&#x27;d4</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (q &gt; <span class="number">4&#x27;d5</span>)</span><br><span class="line">                q &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                q &lt;= q + <span class="number">1&#x27;b1</span>;</span><br><span class="line">        <span class="keyword">end</span> </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="simcircuit10">Sim/circuit10</h2>
<h3 id="question-12">Question</h3>
<p>This is a sequential circuit. The circuit consists of combinational
logic and one bit of memory (i.e., one flip-flop). The output of the
flip-flop has been made observable through the output state.</p>
<p>Read the simulation waveforms to determine what the circuit does,
then implement it.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220829110342.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-14">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">output</span> q,</span><br><span class="line">    <span class="keyword">output</span> state  );</span><br></pre></td></tr></table></figure>
<h3 id="solution-17">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">output</span> q,</span><br><span class="line">    <span class="keyword">output</span> state  );</span><br><span class="line">    <span class="keyword">reg</span> next_state;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @(*)</span><br><span class="line">        <span class="keyword">case</span> (state)</span><br><span class="line">            <span class="number">1&#x27;b0</span> : next_state = (a &amp; b) ? <span class="number">1&#x27;b1</span> : <span class="number">1&#x27;b0</span>;</span><br><span class="line">            <span class="number">1&#x27;b1</span> : next_state = ~(a | b) ? <span class="number">1&#x27;b0</span> : <span class="number">1&#x27;b1</span>; <span class="comment">// 这里逻辑开始写错了，写成了~(a &amp; b);</span></span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        state &lt;= next_state; </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">assign</span> q = state ? ~(a ^ b) : (a ^ b);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="tbclock">Tb/clock</h2>
<h3 id="question-13">Question</h3>
<p>You are provided a module with the following declaration:</p>
<pre><code>module dut (input clk)</code></pre>
<p>Write a testbench that creates one instance of module dut (with any
instance name), and create a clock signal to drive the module's clk
input. The clock has a period of 10 ps. The clock should be initialized
to zero with its first transition being 0 to 1.</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220830111529.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-15">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( );</span><br></pre></td></tr></table></figure>
<h3 id="solution-18">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( );</span><br><span class="line">	<span class="keyword">reg</span> clk;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clk = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> #<span class="number">5</span> clk = ~clk;</span><br><span class="line">    </span><br><span class="line">    dut dut_ins(clk);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="tbtb1">Tb/tb1</h2>
<h3 id="question-14">Question</h3>
<p>Create a Verilog testbench that will produce the following waveform
for outputs A and B:</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220830112049.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<h3 id="module-declaration-16">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( <span class="keyword">output</span> <span class="keyword">reg</span> A, <span class="keyword">output</span> <span class="keyword">reg</span> B );</span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( <span class="keyword">output</span> <span class="keyword">reg</span> A, <span class="keyword">output</span> <span class="keyword">reg</span> B );<span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// generate input patterns here</span></span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        A = <span class="number">0</span>;</span><br><span class="line">        B = <span class="number">0</span>;</span><br><span class="line">        #<span class="number">10</span> A = <span class="number">1</span>;</span><br><span class="line">        #<span class="number">5</span> B = <span class="number">1</span>;</span><br><span class="line">        #<span class="number">5</span> A = <span class="number">0</span>;</span><br><span class="line">        #<span class="number">20</span> B = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="tband">Tb/and</h2>
<h3 id="question-15">Question</h3>
<p>You are given the following AND gate you wish to test:
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> andgate(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>] in;</span><br><span class="line">    <span class="keyword">output</span> out</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>Write a testbench that instantiates this AND gate and tests all 4
input combinations, by generating the following timing diagram: <img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220830112448.png"
alt="wf" /></p>
<h3 id="module-declaration-17">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module();</span><br></pre></td></tr></table></figure>
<h3 id="solution-19">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module();</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>] in;</span><br><span class="line">    <span class="keyword">wire</span> out;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        in = <span class="number">0</span>;</span><br><span class="line">        #<span class="number">10</span> in = <span class="number">2&#x27;b01</span>;</span><br><span class="line">        #<span class="number">10</span> in = <span class="number">2&#x27;b10</span>;</span><br><span class="line">        #<span class="number">10</span> in = <span class="number">2&#x27;b11</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    andgate andgate_ins(in, out);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="tbtb2">Tb/tb2</h2>
<h3 id="question-16">Question</h3>
<p>The waveform below sets clk, in, and s:</p>
<figure>
<img
src="https://raw.githubusercontent.com/PengXuanyao/img-bed/main/20220830112921.png"
alt="wf" />
<figcaption aria-hidden="true">wf</figcaption>
</figure>
<p>Module q7 has the following declaration:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> q7 ( </span><br><span class="line">     <span class="keyword">input</span> clk, </span><br><span class="line">     <span class="keyword">input</span> in, </span><br><span class="line">     <span class="keyword">input</span> [<span class="number">2</span>:<span class="number">0</span>] s, </span><br><span class="line">     <span class="keyword">output</span> out );</span><br></pre></td></tr></table></figure>
<p>Write a testbench that instantiates module q7 and generates these
input signals exactly as shown in the waveform above</p>
<h3 id="module-declaration-18">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module();</span><br></pre></td></tr></table></figure>
<h3 id="solution-20">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module();</span><br><span class="line">    <span class="keyword">reg</span> clk, in;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] s;</span><br><span class="line">    <span class="keyword">wire</span> out;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clk = <span class="number">0</span>;</span><br><span class="line">        in = <span class="number">0</span>;</span><br><span class="line">        s = <span class="number">2</span>;</span><br><span class="line">        #<span class="number">10</span> s = <span class="number">6</span>;</span><br><span class="line">        #<span class="number">10</span> s = <span class="number">2</span>;</span><br><span class="line">        in = <span class="number">1</span>;</span><br><span class="line">        #<span class="number">10</span> s = <span class="number">7</span>;</span><br><span class="line">        in = <span class="number">0</span>;</span><br><span class="line">        #<span class="number">10</span> s = <span class="number">0</span>;</span><br><span class="line">        in = <span class="number">1</span>;</span><br><span class="line">        #<span class="number">30</span> in = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> #<span class="number">5</span> clk = ~clk;</span><br><span class="line">    </span><br><span class="line">    q7 q7_inst(clk, in, s, out);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h3 id="debug">Debug</h3>
<p>注意：clk反转是半个时钟。</p>
<h2 id="tbtff">Tb/tff</h2>
<h3 id="question-17">Question</h3>
<p>You are given a T flip-flop module with the following
declaration:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> tff ( </span><br><span class="line">    <span class="keyword">input</span> clk, </span><br><span class="line">    <span class="keyword">input</span> reset,   <span class="comment">// active-high synchronous reset </span></span><br><span class="line">    <span class="keyword">input</span> t,       <span class="comment">// toggle </span></span><br><span class="line">    <span class="keyword">output</span> q </span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>Write a testbench that instantiates one tff and will reset the T
flip-flop then toggle it to the "1" state.</p>
<h3 id="module-declaration-19">Module Declaration</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ();</span><br></pre></td></tr></table></figure>
<h3 id="solution-21">Solution</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module();</span><br><span class="line">    <span class="keyword">reg</span> clk, t;</span><br><span class="line">    <span class="keyword">reg</span> reset;</span><br><span class="line">    <span class="keyword">wire</span> q;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clk = <span class="number">0</span>;</span><br><span class="line">        t = <span class="number">0</span>;</span><br><span class="line">        reset = <span class="number">1</span>;</span><br><span class="line">        #<span class="number">10</span> t = <span class="number">1</span>;</span><br><span class="line">        reset = <span class="number">0</span>;</span><br><span class="line">        #<span class="number">10</span> t = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> #<span class="number">5</span> clk = ~clk;</span><br><span class="line">    </span><br><span class="line">    tff tff_inst(clk, reset, t, q);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h3 id="debug-1">Debug</h3>
<p>注意：clk反转是半个时钟。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/17/%E3%80%90%E8%9C%82%E9%B8%9FE203%E3%80%91-00-%E5%88%9D%E8%AF%86CPU%E8%AE%BE%E8%AE%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/17/%E3%80%90%E8%9C%82%E9%B8%9FE203%E3%80%91-00-%E5%88%9D%E8%AF%86CPU%E8%AE%BE%E8%AE%A1/" class="post-title-link" itemprop="url">【蜂鸟E203】-00-初识CPU设计</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-17 09:42:02" itemprop="dateCreated datePublished" datetime="2022-08-17T09:42:02+08:00">2022-08-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 11:05:18" itemprop="dateModified" datetime="2022-09-17T11:05:18+08:00">2022-09-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="蜂鸟的rtl代码风格">蜂鸟的RTL代码风格</h2>
<ol type="1">
<li>模块化的风格：定义一些基本的带有参数化的模块，并进行模块的例化来搭建整个数字电路。</li>
<li>当是并行优先级选择的时候，使用<code>assign</code>语句代替<code>if - else</code>语句，前者能够传播不定态，且能透过组合逻辑实现并行的优先级选择。</li>
<li>断言：用来Debug，具体使用后面再看。</li>
<li>数据通路上的寄存器可不用带reset，控制通路上的寄存器需要带reset。</li>
<li>clk和rst只能接入寄存器而禁止用于其他任何逻辑功能。</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/13/%E3%80%90xup_summer_camp%E3%80%91-04-hls%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%8A%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PengXuanyao">
      <meta itemprop="description" content="This is my personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PengXuanyao">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/13/%E3%80%90xup_summer_camp%E3%80%91-04-hls%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%8A%EF%BC%89/" class="post-title-link" itemprop="url">【xup_summer_camp】-04-hls学习（上）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-13 17:24:18" itemprop="dateCreated datePublished" datetime="2022-08-13T17:24:18+08:00">2022-08-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-17 11:05:18" itemprop="dateModified" datetime="2022-09-17T11:05:18+08:00">2022-09-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>本博客为Xilinx HLS课程笔记</p>
</blockquote>
<h2 id="fpga的单元">FPGA的单元</h2>
<h3 id="逻辑单元">逻辑单元</h3>
<p>基本的逻辑功能、加法功能（或者使用DSP48）</p>
<h3 id="算术逻辑单元">算术逻辑单元</h3>
<p>DSP48</p>
<figure>
<img src="https://s2.loli.net/2022/08/13/n2JcPAv6SmZaolB.png"
alt="算术逻辑单元" />
<figcaption aria-hidden="true">算术逻辑单元</figcaption>
</figure>
<figure>
<img src="https://s2.loli.net/2022/08/13/dLpZClxytaFnEYh.png"
alt="ALU能够实现的功能" />
<figcaption aria-hidden="true">ALU能够实现的功能</figcaption>
</figure>
<h3 id="存储单元">存储单元</h3>
<p>Block RAM（大块数据存储）、LUT in SLICEM（小容量 ≤ 1kb）</p>
<figure>
<img src="https://s2.loli.net/2022/08/13/Iow8blKhXn3mz6L.png"
alt="BRAM配置" />
<figcaption aria-hidden="true">BRAM配置</figcaption>
</figure>
<figure>
<img src="https://s2.loli.net/2022/08/13/Jd3r7OsY8QM6ieZ.png"
alt="RAM配置模式" />
<figcaption aria-hidden="true">RAM配置模式</figcaption>
</figure>
<p>数组和BRAM之间进行映射</p>
<p>本课程关注点是：如何写高效率的HLS代码（C/C++）</p>
<h2 id="hls的机制">HLS的机制</h2>
<p>硬件设计的重点和难点：时序和并行性分析。</p>
<p>C/C++关注算法本身。</p>
<h3 id="c-hdl-流程">C → HDL 流程</h3>
<p>Scheduling(调度) → Control Logic Extration(控制逻辑提取) →
Binding(硬件映射)</p>
<p>简单，无控制逻辑的例子：</p>
<figure>
<img src="https://s2.loli.net/2022/08/13/HC8GJUD3V4gstQ5.png"
alt="例子" />
<figcaption aria-hidden="true">例子</figcaption>
</figure>
<p>涉及到循环（有状态机），加入控制逻辑的例子：</p>
<figure>
<img src="https://s2.loli.net/2022/08/13/ypjcsHJkxA5LhlU.png"
alt="for. example" />
<figcaption aria-hidden="true">for. example</figcaption>
</figure>
<p>HLS 通过状态机来控制算法的进程。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PengXuanyao</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
